{
  "_meta": {
    "version": "3.1",
    "last_updated": "2026-02-20",
    "description": "NPCs: service, quest, class_master, ambient. Enriched profiles with dialogues, shop inventory, bilingual text."
  },

  "types": ["service", "quest", "class_master", "ambient", "arena"],
  "priorities": ["essential", "important", "flavor"],

  "service_npcs": [
    {
      "id": "npc_healer_aelina",
      "name": "Sister Aelina",
      "services": ["heal_full", "cleanse_basic"],
      "location": "town_start",
      "lore": "Wandering healer who says the Abysses 'breathe' under the earth."
    },
    {
      "id": "npc_vendor_milo",
      "name_fr": "Milo",
      "name_en": "Milo",
      "role_fr": "Marchand",
      "role_en": "Merchant",
      "services": ["buy_sell_general", "sell_junk_auto"],
      "location": "town_start",

      "lore_fr": "Milo n'a jamais tenu une épée de sa vie. Ancien colporteur des routes du sud, il a appris très jeune que les gens qui se battent ont toujours besoin de quelqu'un qui ne se bat pas. Il s'est installé là où les ennuis commencent, pas par courage, mais parce que c'est là que l'or circule. Il connaît le prix de chaque chose, et le coût de chaque erreur. Il ne juge personne. Il vend.",
      "lore_en": "Milo has never held a sword in his life. A former peddler from the southern roads, he learned early that people who fight always need someone who doesn't. He set up shop where trouble begins, not out of courage, but because that's where gold flows. He knows the price of everything, and the cost of every mistake. He doesn't judge. He sells.",

      "dialogues": {
        "greeting": [
          {
            "zone": "town_start",
            "lines_fr": [
              "Tiens, un visage que j'ai pas encore vu. T'as besoin de quelque chose ou tu fais que passer ?",
              "Le monde change dehors, mais ici les prix restent les mêmes. Pour l'instant.",
              "J'ai ce qu'il faut pour tenir debout. Le reste, c'est ton affaire."
            ],
            "lines_en": [
              "Well, a face I haven't seen yet. Need something or just passing through?",
              "The world's changing out there, but prices stay the same in here. For now.",
              "I've got what you need to stay on your feet. The rest is your business."
            ]
          },
          {
            "zone": "zone_forest",
            "lines_fr": [
              "Les bêtes de cette forêt mordent plus fort qu'avant. Fais le plein, crois-moi.",
              "J'ai suivi la route jusqu'ici. Tant qu'il y a des gens, il y a du commerce."
            ],
            "lines_en": [
              "The beasts in this forest bite harder than before. Stock up, trust me.",
              "I followed the road here. Where there's people, there's trade."
            ]
          }
        ],
        "buy": [
          {
            "lines_fr": [
              "Regarde, tout est là. Pas de surprises, pas d'arnaques.",
              "Prends ce qu'il te faut. Je fais pas crédit."
            ],
            "lines_en": [
              "Have a look, it's all here. No surprises, no tricks.",
              "Take what you need. I don't do credit."
            ]
          }
        ],
        "sell": [
          {
            "lines_fr": [
              "Voyons ce que t'as... Je rachète tout, mais au juste prix.",
              "Pose ça là. Je te donne ce que ça vaut, ni plus ni moins."
            ],
            "lines_en": [
              "Let's see what you've got... I'll buy anything, but at a fair price.",
              "Put it down. I'll give you what it's worth, no more no less."
            ]
          }
        ],
        "farewell": [
          {
            "lines_fr": [
              "Fais attention dehors. Les morts, ça achète rien.",
              "Reviens quand t'as besoin. Je bouge pas."
            ],
            "lines_en": [
              "Watch yourself out there. Dead folks don't buy anything.",
              "Come back when you need me. I'm not going anywhere."
            ]
          }
        ]
      },

      "shop_inventory": {
        "_comment": "Items available for purchase. Organized by category. All prices from consumables.json.",
        "potions": [
          {"item_id": "cons_hp_potion_small", "stock": -1, "min_level": 1},
          {"item_id": "cons_hp_potion_medium", "stock": -1, "min_level": 10},
          {"item_id": "cons_hp_potion_large", "stock": -1, "min_level": 25},
          {"item_id": "cons_mp_potion_small", "stock": -1, "min_level": 1},
          {"item_id": "cons_mp_potion_medium", "stock": -1, "min_level": 10},
          {"item_id": "cons_mp_potion_large", "stock": -1, "min_level": 25},
          {"item_id": "cons_antidote", "stock": -1, "min_level": 1},
          {"item_id": "cons_cleanse_potion", "stock": -1, "min_level": 15},
          {"item_id": "revive_potion", "stock": 5, "min_level": 20, "restock_hours": 24}
        ],
        "food": [
          {"item_id": "food_bread", "stock": -1, "min_level": 1},
          {"item_id": "food_apple", "stock": -1, "min_level": 1},
          {"item_id": "food_meat_skewer", "stock": -1, "min_level": 5},
          {"item_id": "food_fish_grilled", "stock": -1, "min_level": 5}
        ]
      },

      "buy_config": {
        "accepts": ["equipment", "materials", "consumables", "junk"],
        "sell_price_ratio": 0.35,
        "junk_auto_sell": true
      }
    },
    {
      "id": "npc_blacksmith_borin",
      "name": "Borin the Blacksmith",
      "services": ["repair", "upgrade_weapon", "craft_basic"],
      "location": "town_start",
      "lore": "Former mercenary who forges mainly for those who come back alive."
    },
    {
      "id": "npc_leatherworker_sana",
      "name": "Sana the Leatherworker",
      "services": ["craft_light_armor", "upgrade_armor_light"],
      "location": "town_start",
      "lore": "Knows every beast by the texture of its skin."
    },
    {
      "id": "npc_enchanter_lyr",
      "name": "Lyr the Enchanter",
      "services": ["enchant_basic", "reroll_affix"],
      "location": "town_start",
      "lore": "Writes formulas on everything: paper, stone, metal... and sometimes people."
    },
    {
      "id": "npc_banker_orsen",
      "name": "Orsen the Banker",
      "services": ["storage", "currency_exchange"],
      "location": "town_start",
      "lore": "Only trusts numbers. Also keeps secrets... for a fee."
    },
    {
      "id": "npc_alchemist_petra",
      "name": "Petra the Alchemist",
      "services": ["potions_advanced", "antidotes"],
      "location": "town_start",
      "lore": "Says every poison is a remedy that forgot its name."
    },
    {
      "id": "npc_pet_master_koru",
      "name": "Koru the Tamer",
      "services": ["pet_manage", "pet_food"],
      "location": "town_start",
      "lore": "Claims a good pet also chooses its master."
    },
    {
      "id": "npc_teleporter_elle",
      "name": "Elle the Wayfarer",
      "services": ["fast_travel", "zone_info"],
      "location": "town_start",
      "lore": "Travels light. Too light, some say. Says roads change at night."
    },
    {
      "id": "npc_innkeeper_rona",
      "name": "Rona the Innkeeper",
      "services": ["rest_buff", "rumors"],
      "location": "town_start",
      "lore": "Listens to everything, forgets nothing. Her rumors are worth more than gold."
    },
    {
      "id": "npc_materials_buyer_juno",
      "name": "Juno Materials Buyer",
      "services": ["buy_materials", "weekly_requests"],
      "location": "town_start",
      "lore": "Funds artisans. Hates waste and loves organized inventories."
    },
    {
      "id": "npc_lore_oracle_mara",
      "name": "Mara the Oracle",
      "services": ["lore_codex", "daily_hint"],
      "location": "town_start",
      "lore": "Sees fragments of possible futures. Never says which is true."
    },
    {
      "id": "npc_guild_master_aldric",
      "name": "Aldric Guild Master",
      "services": ["guild_create", "guild_manage", "guild_wars"],
      "location": "town_start",
      "lore": "Has seen guilds born and die. Respects those that last."
    },
    {
      "id": "npc_koro_collector_yuki",
      "name": "Yuki Koro Collector",
      "services": ["koro_identify", "koro_fusion", "koro_trade", "koro_codex"],
      "location": "town_start",
      "lore": "Collects Koros since childhood. Says each card carries the echo of an ancient battle."
    },
    {
      "id": "npc_respec_sage_velith",
      "name": "Velith Respec Sage",
      "services": ["stat_reset", "skill_reset"],
      "location": "town_start",
      "lore": "Can erase your past choices, but not their consequences. Price increases each time."
    },
    {
      "id": "npc_daily_reward_herald",
      "name": "Rewards Herald",
      "services": ["daily_reward_claim", "weekly_bonus"],
      "location": "town_start",
      "lore": "Distributes the kingdom's favors. Doesn't judge latecomers."
    }
  ],

  "quest_npcs": [
    {
      "id": "npc_guide_nina",
      "name": "Nina the Guide",
      "services": ["tutorial", "starter_quest"],
      "location": "town_start",
      "lore": "Has seen too many beginners die to leave things to chance."
    },
    {
      "id": "npc_quest_captain_rey",
      "name": "Captain Rey",
      "services": ["quest_hub"],
      "location": "town_start",
      "lore": "Keeps the town standing with discipline and well-placed bounties."
    }
  ],

  "class_masters": [
    {"id": "npc_class_warrior", "name": "Master Kael", "class": "warrior", "lore": "Doesn't talk much. Watches your stance, then your courage."},
    {"id": "npc_class_mage", "name": "Archmage Selene", "class": "mage", "lore": "Claims magic is a memory of the world, not a force."},
    {"id": "npc_class_archer", "name": "Scout Veya", "class": "archer", "lore": "Reads tracks like others read books. Hates unnecessary noise."},
    {"id": "npc_class_rogue", "name": "Shadowblade Rask", "class": "rogue", "lore": "Teaches how to disappear... but especially how to come back at the right time."},
    {"id": "npc_class_healer", "name": "Mother Iona", "class": "healer", "lore": "Speaks little, listens much. Has seen panic kill more than monsters."}
  ],

  "arena_npcs": [
    {
      "id": "npc_arena_dargo",
      "name": "Dargo Arena Master",
      "services": ["arena_pve_trials", "ladder"],
      "location": "town_start",
      "lore": "Loves simple rules: 'enter, fight, leave'."
    }
  ],

  "ambient_npcs": [
    {"id": "amb_villager_01", "name": "Villager", "type": "standing", "day_night": "day"},
    {"id": "amb_guard_01", "name": "Patrolling Guard", "type": "patrol", "day_night": "any"},
    {"id": "amb_child_01", "name": "Running Child", "type": "running", "day_night": "day"},
    {"id": "amb_cat_01", "name": "Market Cat", "type": "idle", "day_night": "any"},
    {"id": "amb_dog_01", "name": "Wandering Dog", "type": "wander", "day_night": "any"},
    {"id": "amb_farmer_01", "name": "Farmer", "type": "carry", "day_night": "day"},
    {"id": "amb_tavern_patron_01", "name": "Tavern Patron", "type": "sitting", "day_night": "night"},
    {"id": "amb_priest_01", "name": "Praying Faithful", "type": "kneeling", "day_night": "any"},
    {"id": "amb_fisher_01", "name": "Silent Fisher", "type": "fishing", "day_night": "day"},
    {"id": "amb_messenger_01", "name": "Hurrying Messenger", "type": "running", "day_night": "any"}
  ],

  "services_catalog": {
    "heal_full": "Restore HP/MP to max out of combat",
    "cleanse_basic": "Remove basic negative effects (poison, burn, bleed)",
    "buy_sell_general": "Buy loot, sell basic consumables",
    "sell_junk_auto": "Quick sell junk items",
    "repair": "Repair damaged equipment",
    "upgrade_weapon": "Enhance weapon stats",
    "craft_basic": "Create basic weapons from zone materials",
    "craft_light_armor": "Create light armor for Ranger/Rogue/Healer",
    "enchant_basic": "Add simple bonus (atk/mag/def) on item",
    "reroll_affix": "Reroll an affix (gold + mats cost)",
    "storage": "Secure storage, slot extension",
    "fast_travel": "Teleport between discovered points",
    "zone_info": "Zone description and danger level",
    "tutorial": "Explains UI, 2x5 combat, skills, status",
    "quest_hub": "Centralized hunting, elite, boss missions",
    "arena_pve_trials": "Instanced test fights (DPS dummy, packs, boss)",
    "stat_reset": "Recover all allocated stat points",
    "daily_reward_claim": "Claim daily reward (anti-FOMO: streak doesn't reset)",
    "koro_identify": "Reveal Koro rank and power",
    "koro_fusion": "Combine identical Koros to increase rank",
    "guild_create": "Found a guild (50,000 gold, level 20 min)",
    "guild_manage": "Access guild options: members, ranks, storage"
  },

  "_summary": {
    "total_npcs": 35,
    "service": 16,
    "quest": 2,
    "class_master": 5,
    "arena": 1,
    "ambient": 10
  }
}
