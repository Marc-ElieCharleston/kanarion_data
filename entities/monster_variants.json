{
  "_meta": {
    "version": "3.0",
    "last_updated": "2026-01-10",
    "description": "Systeme de variantes de monstres (prefix, elite, boss)"
  },

  "prefix_variants": {
    "_comment": "Modifie les stats et le nom du monstre (ex: 'Corrupted Goblin')",
    "corrupted": {
      "name_prefix": "Corrupted",
      "stats_mult": {"hp": 1.2, "atk": 1.3, "def": 0.9},
      "xp_mult": 1.5,
      "loot_bonus": 0.25,
      "special": "chance_poison_attack"
    },
    "angry": {
      "name_prefix": "Angry",
      "stats_mult": {"hp": 1.0, "atk": 1.5, "def": 0.8},
      "xp_mult": 1.3,
      "loot_bonus": 0.15,
      "special": "increased_attack_speed"
    },
    "armored": {
      "name_prefix": "Armored",
      "stats_mult": {"hp": 1.3, "atk": 0.9, "def": 1.5},
      "xp_mult": 1.4,
      "loot_bonus": 0.20,
      "special": "damage_reduction"
    },
    "giant": {
      "name_prefix": "Giant",
      "stats_mult": {"hp": 1.8, "atk": 1.4, "def": 1.2},
      "xp_mult": 2.0,
      "loot_bonus": 0.40,
      "special": "increased_size"
    }
  },

  "star_system": {
    "_comment": "High risk high reward - Plus d'etoiles = plus de mobs + stats buffees + elites/boss possibles. Encourage le grouping.",
    "roll_weights": [25.0, 25.0, 20.0, 15.0, 10.0, 5.0],
    "roll_weights_comment": "0★=25%, 1★=25%, 2★=20%, 3★=15%, 4★=10%, 5★=5%",
    "max_elites_per_pack": 2,
    "max_bosses_per_pack": 1,
    "packs": {
      "0": {
        "name": "Normal",
        "color": "white",
        "description": "solo/duo",
        "mob_count_min": 1,
        "mob_count_max": 2,
        "elite_chance": 0.0,
        "elite_count": 0,
        "boss_chance": 0.0,
        "stats_mult": 1.0,
        "xp_mult": 1.0,
        "loot_mult": 1.0
      },
      "1": {
        "name": "Pack",
        "color": "white+",
        "description": "petit groupe",
        "mob_count_min": 2,
        "mob_count_max": 3,
        "elite_chance": 0.05,
        "elite_count": 1,
        "boss_chance": 0.0,
        "stats_mult": 1.05,
        "xp_mult": 1.5,
        "loot_mult": 1.2
      },
      "2": {
        "name": "Veteran",
        "color": "yellow",
        "description": "groupe moyen",
        "mob_count_min": 3,
        "mob_count_max": 5,
        "elite_chance": 0.10,
        "elite_count": 1,
        "boss_chance": 0.0,
        "stats_mult": 1.10,
        "xp_mult": 2.0,
        "loot_mult": 1.5
      },
      "3": {
        "name": "Dangerous",
        "color": "orange",
        "description": "groupe costaud",
        "mob_count_min": 4,
        "mob_count_max": 6,
        "elite_chance": 0.20,
        "elite_count": 1,
        "boss_chance": 0.0,
        "stats_mult": 1.20,
        "xp_mult": 3.0,
        "loot_mult": 2.0
      },
      "4": {
        "name": "Mythic",
        "color": "purple",
        "description": "gros groupe, chance de boss",
        "mob_count_min": 6,
        "mob_count_max": 8,
        "elite_chance": 0.30,
        "elite_count_min": 1,
        "elite_count_max": 2,
        "boss_chance": 0.10,
        "stats_mult": 1.30,
        "xp_mult": 5.0,
        "loot_mult": 3.0
      },
      "5": {
        "name": "Legendary",
        "color": "red",
        "description": "event social, boss garanti, ne respawn pas",
        "mob_count_min": 8,
        "mob_count_max": 10,
        "elite_chance": 1.0,
        "elite_count": 2,
        "boss_chance": 1.0,
        "stats_mult": 1.50,
        "xp_mult": 10.0,
        "loot_mult": 5.0
      }
    }
  },

  "elite_variant": {
    "_comment": "Version elite d'un monstre - rare spawn, much stronger",
    "name_prefix": "Elite",
    "stats_mult": {"hp": 1.8, "atk": 1.5, "def": 1.3},
    "size_mult": 1.15,
    "xp_mult": 2.0,
    "gold_mult": 2.0,
    "loot_mult": 1.7,
    "guaranteed_rare_drop": true,
    "spawn_chance": 0.02,
    "special_abilities": ["enrage_at_30_percent", "cleave_attack"]
  },

  "boss_variant": {
    "_comment": "Boss version - unique spawn, end of dungeon or world boss",
    "types": {
      "dungeon_boss": {
        "stats_mult": {"hp": 5.0, "atk": 2.5, "def": 2.0},
        "size_mult": 1.35,
        "xp_mult": 8.0,
        "gold_mult": 5.0,
        "loot_mult": 3.0,
        "phases": 3,
        "special_loot_table": true
      },
      "world_boss": {
        "stats_mult": {"hp": 20.0, "atk": 4.0, "def": 2.5},
        "size_mult": 1.5,
        "xp_mult": 15.0,
        "gold_mult": 10.0,
        "loot_mult": 5.0,
        "phases": 4,
        "respawn_time_minutes": {"min": 15, "max": 60},
        "contribution_loot": true
      }
    }
  },

  "rank_skills": {
    "_comment": "Skills et passifs par rang (normal/elite/boss) pour chaque mob. Ref: monster_archetypes.json pour les skill_pools.",
    "mob_wolf": {
      "archetype": "assassin",
      "normal": {
        "skills": ["skill_assassin_quick_strike"],
        "passives": ["passive_assassin_backstab"]
      },
      "elite": {
        "skills": ["skill_assassin_quick_strike", "skill_assassin_poison_blade"],
        "passives": ["passive_assassin_backstab", "passive_assassin_critical_strike"],
        "bonus_ability": "pack_hunter: +15% ATK if ally adjacent"
      },
      "boss": {
        "skills": ["skill_assassin_quick_strike", "skill_assassin_poison_blade", "skill_assassin_shadow_strike"],
        "signature": "skill_assassin_death_mark",
        "passives": ["passive_assassin_backstab", "passive_assassin_critical_strike", "passive_assassin_shadow_step"],
        "phase_trigger": {"hp_threshold": 0.3, "effect": "enrage: +50% ATK, +30% speed"}
      }
    },
    "mob_tortue_de_pierre": {
      "archetype": "tank",
      "normal": {
        "skills": ["skill_tank_shield_bash"],
        "passives": ["passive_tank_thick_skin"]
      },
      "elite": {
        "skills": ["skill_tank_shield_bash", "skill_tank_defensive_stance"],
        "passives": ["passive_tank_thick_skin", "passive_tank_guardian"],
        "bonus_ability": "thorns: 10% damage reflected to melee attackers"
      },
      "boss": {
        "skills": ["skill_tank_shield_bash", "skill_tank_defensive_stance", "skill_tank_taunt_roar"],
        "signature": "skill_tank_fortress",
        "passives": ["passive_tank_thick_skin", "passive_tank_guardian", "passive_tank_last_stand"],
        "phase_trigger": {"hp_threshold": 0.5, "effect": "DEF x2, summon 2 mob_scarab"}
      }
    },
    "mob_shaman_goblin": {
      "archetype": "healer",
      "normal": {
        "skills": ["skill_healer_heal"],
        "passives": ["passive_healer_regeneration_aura"]
      },
      "elite": {
        "skills": ["skill_healer_heal", "skill_healer_dispel"],
        "passives": ["passive_healer_regeneration_aura", "passive_healer_desperate_prayer"],
        "bonus_ability": "mass_heal: AoE heal 10% HP, cd 15s"
      },
      "boss": {
        "skills": ["skill_healer_heal", "skill_healer_group_heal", "skill_healer_dispel"],
        "signature": "skill_healer_resurrection",
        "passives": ["passive_healer_regeneration_aura", "passive_healer_desperate_prayer", "passive_healer_divine_intervention"],
        "phase_trigger": {"hp_threshold": 0.5, "effect": "heal power x2"}
      }
    },
    "mob_totem_wolf": {
      "archetype": "support",
      "normal": {
        "skills": ["skill_support_haste"],
        "passives": ["passive_support_aura"]
      },
      "elite": {
        "skills": ["skill_support_haste", "skill_support_weaken"],
        "passives": ["passive_support_aura", "passive_support_synergy"],
        "bonus_ability": "shield_ally: shield 20% max HP on lowest ally, cd 12s"
      },
      "boss": {
        "skills": ["skill_support_haste", "skill_support_weaken", "skill_support_shield_barrier"],
        "signature": "skill_support_bloodlust",
        "passives": ["passive_support_aura", "passive_support_synergy", "passive_support_chain_reaction"],
        "phase_trigger": {"hp_threshold": 0.4, "effect": "buff duration x2"}
      }
    },
    "mob_golem": {
      "archetype": "tank",
      "normal": {
        "skills": ["skill_tank_shield_bash"],
        "passives": ["passive_tank_thick_skin"]
      },
      "elite": {
        "skills": ["skill_tank_shield_bash", "skill_tank_shield_wall"],
        "passives": ["passive_tank_thick_skin", "passive_tank_guardian"]
      },
      "boss": {
        "skills": ["skill_tank_shield_bash", "skill_tank_shield_wall", "skill_tank_taunt_roar"],
        "signature": "skill_tank_fortress",
        "passives": ["passive_tank_thick_skin", "passive_tank_guardian", "passive_tank_last_stand"],
        "phase_trigger": {"hp_threshold": 0.3, "effect": "enrage: +40% ATK, AoE ground slam every 10s"}
      }
    },
    "mob_cerf_obscur": {
      "archetype": "assassin",
      "normal": {
        "skills": ["skill_assassin_quick_strike"],
        "passives": ["passive_assassin_backstab"]
      },
      "elite": {
        "skills": ["skill_assassin_quick_strike", "skill_assassin_shadow_strike"],
        "passives": ["passive_assassin_backstab", "passive_assassin_critical_strike"]
      },
      "boss": {
        "skills": ["skill_assassin_quick_strike", "skill_assassin_shadow_strike", "skill_assassin_ambush"],
        "signature": "skill_assassin_death_mark",
        "passives": ["passive_assassin_backstab", "passive_assassin_critical_strike", "passive_assassin_shadow_step"],
        "phase_trigger": {"hp_threshold": 0.4, "effect": "shadow_form: untargetable 3s, then massive burst"}
      }
    },
    "mob_ember_hound": {
      "archetype": "artillery",
      "normal": {
        "skills": ["skill_artillery_fire_bolt"],
        "passives": ["passive_artillery_extended_range"]
      },
      "elite": {
        "skills": ["skill_artillery_fire_bolt", "skill_artillery_fireball"],
        "passives": ["passive_artillery_extended_range", "passive_artillery_blast_radius"]
      },
      "boss": {
        "skills": ["skill_artillery_fire_bolt", "skill_artillery_fireball", "skill_artillery_lightning_bolt"],
        "signature": "skill_artillery_meteor",
        "passives": ["passive_artillery_extended_range", "passive_artillery_blast_radius", "passive_artillery_bombardment"],
        "phase_trigger": {"hp_threshold": 0.3, "effect": "bombardment: random AoE every 8s"}
      }
    }
  },

  "spawn_rules": {
    "prefix_spawn_chance": 0.15,
    "prefix_weights": {
      "corrupted": 35,
      "angry": 30,
      "armored": 25,
      "giant": 10
    },
    "elite_spawn_chance": 0.02,
    "boss_spawn": "scripted_only"
  }
}
