{
  "_meta": {
    "version": "6.0",
    "last_updated": "2026-01-23",
    "class": "mage",
    "description": "Skills du Mage. DOUBLE scaling: base_power (flat) + scaling_percent (% de scaling_stat).",
    "scaling_note": "Scaling sur MAG. Mage = glass cannon, dégâts > survie. Système de charges arcaniques (voir passives.json).",
    "formula": "damage = base_power + (scaling_percent% * scaling_stat)",
    "pattern_presets": {
      "single": "1 case",
      "row_2": "2 cases horizontales",
      "row_3": "3 cases horizontales",
      "row_4": "Ligne complète (4 cases)",
      "col_2": "2 cases verticales",
      "col_3": "3 cases verticales",
      "col_4": "Colonne complète (4 cases)",
      "rect_2x2": "Rectangle 2x2",
      "rect_2x3": "Rectangle 2x3",
      "rect_3x3": "Rectangle 3x3",
      "cross": "Croix (centre + 4 adjacents)",
      "ring": "Anneau (8 cases autour, sans centre)",
      "around_radius_1": "Cible + anneau (avec centre)",
      "chain_2": "Rebond 2 cibles",
      "chain_3": "Rebond 3 cibles",
      "all": "Toutes les cibles (16 cases)"
    },
    "vfx_available": ["fireball", "blizzard", "ice_ball", "heal", "shield", "buff_aura", "debuff_aura", "melee_slash", "regeneration", "aoe_pulse", "dash_trail", "life_steal", "magic_bolt", "sanctuary", "whirlwind", "falling", "projectile", "channel"]
  },

  "base_skills": [
    {
      "id": "skill_mage_magic_bolt",
      "name": "Magic Bolt",
      "tier": "filler",
      "target": "enemy",
      "pattern": "single",
      "damage_type": "magical",
      "scaling_stat": "mag",
      "base_power": 18,
      "scaling_percent": 45,
      "mana_cost": 10,
      "cooldown": 2.5,
      "generates_charges": 1,
      "vfx_type": "magic_bolt",
      "description_fr": "Projectile arcanique (18 + 45% MAG). Génère 1 Charge Arcanique.",
      "description_en": "Arcane projectile (18 + 45% MAG). Generates 1 Arcane Charge.",
      "tags": ["damage", "filler", "charge_generator"]
    },
    {
      "id": "skill_mage_arcane_pulse",
      "name": "Arcane Pulse",
      "tier": "basic",
      "target": "enemies",
      "pattern": "rect_2x2",
      "damage_type": "magical",
      "scaling_stat": "mag",
      "base_power": 15,
      "scaling_percent": 35,
      "mana_cost": 18,
      "cooldown": 6.0,
      "generates_charges": 1,
      "vfx_type": "aoe_pulse",
      "description_fr": "Onde arcanique (15 + 35% MAG) en zone 2x2. Génère 1 Charge Arcanique.",
      "description_en": "Arcane wave (15 + 35% MAG) in 2x2 area. Generates 1 Arcane Charge.",
      "tags": ["damage", "aoe", "charge_generator"]
    },
    {
      "id": "skill_mage_arcane_cataclysm",
      "name": "Arcane Cataclysm",
      "tier": "strong",
      "target": "enemies",
      "pattern": "cross",
      "damage_type": "magical",
      "scaling_stat": "mag",
      "base_power": 40,
      "scaling_percent": 70,
      "mana_cost": 35,
      "cooldown": 14.0,
      "cast_time": 3.0,
      "consumes_charges": true,
      "max_charges_consumed": 3,
      "bonus_per_charge": 25,
      "vfx_type": "aoe_pulse",
      "description_fr": "Cataclysme arcanique (40 + 70% MAG) en zone 3x3. Cast 3s. Consomme jusqu'à 3 charges: +25% dégâts/charge.",
      "description_en": "Arcane cataclysm (40 + 70% MAG) in 3x3 area. 3s cast. Consumes up to 3 charges: +25% damage/charge.",
      "tags": ["damage", "aoe", "charge_consumer", "cast_time"]
    },
    {
      "id": "skill_mage_mana_shield",
      "name": "Mana Shield",
      "tier": "basic",
      "target": "self",
      "pattern": "single",
      "damage_type": "none",
      "base_power": 0,
      "mana_cost": 20,
      "cooldown": 18.0,
      "shield_value": 20,
      "shield_scaling": "max_mp",
      "shield_duration": 6.0,
      "vfx_type": "shield",
      "description_fr": "Bouclier de mana absorbant 20% du mana max en dégâts pendant 6s.",
      "description_en": "Mana shield absorbing 20% of max MP as damage for 6s.",
      "tags": ["defense", "shield", "self"]
    },
    {
      "id": "skill_mage_arcane_siphon",
      "name": "Arcane Siphon",
      "tier": "basic",
      "target": "self",
      "pattern": "single",
      "damage_type": "none",
      "base_power": 0,
      "mana_cost": 0,
      "cooldown": 20.0,
      "channel_time": 3.0,
      "mana_regen_percent": 8,
      "mana_regen_ticks": 3,
      "vfx_type": "channel",
      "description_fr": "Siphonne l'énergie des Fissures pendant 3s, régénérant 8% du mana max par seconde (24% total). Interruptible.",
      "description_en": "Siphons energy from the Rifts for 3s, regenerating 8% max MP per second (24% total). Interruptible.",
      "tags": ["utility", "mana_regen", "channel", "self"]
    }
  ],

  "subclass_skills": {
    "elementalist": {
      "identity": "Elemental damage + Burn/Chill stacking + AOE coverage",
      "signature": "skill_mage_elem_elemental_storm",
      "mechanics": {
        "burn": {
          "max_stacks": 5,
          "damage_per_stack": "2% MAG/s",
          "duration": 6
        },
        "chill": {
          "max_stacks": 5,
          "slow_per_stack": "6% attack_speed",
          "duration": 6,
          "at_5_stacks": "Frozen (stun 1.5s)"
        }
      },
      "skills": [
        {
          "id": "skill_mage_elem_elemental_bolt",
          "name": "Elemental Bolt",
          "tier": "filler",
          "target": "enemy",
          "pattern": "single",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 20,
          "scaling_percent": 50,
          "mana_cost": 12,
          "cooldown": 2.5,
          "applies_burn_stacks": 1,
          "applies_chill_stacks": 1,
          "vfx_type": "fireball",
          "description_fr": "Projectile élémentaire (20 + 50% MAG). Applique 1 stack Burn et 1 stack Chill.",
          "description_en": "Elemental projectile (20 + 50% MAG). Applies 1 Burn and 1 Chill stack.",
          "tags": ["damage", "filler", "elemental", "burn", "chill"]
        },
        {
          "id": "skill_mage_elem_inferno",
          "name": "Inferno",
          "tier": "standard",
          "target": "enemies",
          "pattern": "row_3",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 25,
          "scaling_percent": 45,
          "mana_cost": 22,
          "cooldown": 10.0,
          "applies_burn_stacks": 2,
          "vfx_type": "fireball",
          "description_fr": "Vague de feu (25 + 45% MAG) sur 3 cibles en ligne. Applique 2 stacks Burn.",
          "description_en": "Fire wave (25 + 45% MAG) on 3 targets in a row. Applies 2 Burn stacks.",
          "tags": ["damage", "aoe", "fire", "elemental", "burn"]
        },
        {
          "id": "skill_mage_elem_frost_spike",
          "name": "Frost Spike",
          "tier": "basic",
          "target": "enemy",
          "pattern": "single",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 30,
          "scaling_percent": 55,
          "mana_cost": 20,
          "cooldown": 14.0,
          "effect": "freeze",
          "effect_duration": 4.0,
          "vfx_type": "ice_ball",
          "description_fr": "Pic de glace (30 + 55% MAG) qui gèle la cible pendant 4s.",
          "description_en": "Ice spike (30 + 55% MAG) that freezes target for 4s.",
          "tags": ["damage", "ice", "elemental", "cc", "freeze"]
        },
        {
          "id": "skill_mage_elem_elemental_focus",
          "name": "Elemental Focus",
          "tier": "basic",
          "target": "self",
          "pattern": "single",
          "damage_type": "none",
          "base_power": 0,
          "mana_cost": 18,
          "cooldown": 16.0,
          "buff": "mag_damage_up",
          "buff_value": 25,
          "buff_duration": 8.0,
          "vfx_type": "buff_aura",
          "description_fr": "Concentration élémentaire: +25% dégâts magiques pendant 8s.",
          "description_en": "Elemental focus: +25% magic damage for 8s.",
          "tags": ["buff", "self", "elemental"]
        },
        {
          "id": "skill_mage_elem_elemental_storm",
          "name": "Elemental Storm",
          "tier": "signature",
          "target": "enemies",
          "pattern": "all",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 30,
          "scaling_percent": 50,
          "mana_cost": 50,
          "cooldown": 25.0,
          "applies_burn_stacks": 1,
          "applies_chill_stacks": 1,
          "vfx_type": "blizzard",
          "is_signature": true,
          "description_fr": "SIGNATURE - Tempête élémentaire (30 + 50% MAG) sur TOUT le terrain. Applique 1 Burn + 1 Chill à toutes les cibles.",
          "description_en": "SIGNATURE - Elemental storm (30 + 50% MAG) on ALL enemies. Applies 1 Burn + 1 Chill to all targets.",
          "tags": ["damage", "aoe", "elemental", "burn", "chill", "signature"]
        }
      ]
    },
    "occultist": {
      "identity": "Dark magic + debuffs + drains + Corruption DoT",
      "signature": "skill_mage_occ_shadow_pact",
      "mechanics": {
        "corruption": {
          "max_stacks": 5,
          "damage_per_stack": "3% MAG/s",
          "duration": 5,
          "description": "DoT d'ombre. Se refresh à chaque application."
        }
      },
      "skills": [
        {
          "id": "skill_mage_occ_dark_bolt",
          "name": "Dark Bolt",
          "tier": "filler",
          "target": "enemy",
          "pattern": "single",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 18,
          "scaling_percent": 45,
          "mana_cost": 12,
          "cooldown": 2.5,
          "applies_corruption_stacks": 1,
          "vfx_type": "magic_bolt",
          "description_fr": "Projectile d'ombre (18 + 45% MAG). Applique 1 stack de Corruption.",
          "description_en": "Shadow projectile (18 + 45% MAG). Applies 1 Corruption stack.",
          "tags": ["damage", "filler", "dark", "occult", "corruption"]
        },
        {
          "id": "skill_mage_occ_curse_of_weakness",
          "name": "Curse of Weakness",
          "tier": "basic",
          "target": "enemy",
          "pattern": "single",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 10,
          "scaling_percent": 25,
          "mana_cost": 15,
          "cooldown": 12.0,
          "debuff": "weakness",
          "debuff_atk_reduction": 20,
          "debuff_def_reduction": 20,
          "debuff_duration": 8.0,
          "vfx_type": "debuff_aura",
          "description_fr": "Malédiction (10 + 25% MAG) réduisant ATK et DEF de 20% pendant 8s.",
          "description_en": "Curse (10 + 25% MAG) reducing ATK and DEF by 20% for 8s.",
          "tags": ["damage", "debuff", "dark", "occult", "curse"]
        },
        {
          "id": "skill_mage_occ_life_drain",
          "name": "Life Drain",
          "tier": "standard",
          "target": "enemy",
          "pattern": "single",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 25,
          "scaling_percent": 55,
          "mana_cost": 22,
          "cooldown": 8.0,
          "lifesteal_percent": 30,
          "lifesteal_per_level": 2,
          "vfx_type": "life_steal",
          "description_fr": "Drain de vie (25 + 55% MAG). Vole 30% des dégâts en HP (+2%/lvl).",
          "description_en": "Life drain (25 + 55% MAG). Steals 30% of damage as HP (+2%/lvl).",
          "tags": ["damage", "lifesteal", "dark", "occult", "sustain"]
        },
        {
          "id": "skill_mage_occ_soul_rend",
          "name": "Soul Rend",
          "tier": "standard",
          "target": "enemies",
          "pattern": "row_3",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 22,
          "scaling_percent": 40,
          "mana_cost": 25,
          "cooldown": 12.0,
          "effect": "silence",
          "effect_duration": 2.0,
          "vfx_type": "debuff_aura",
          "description_fr": "Déchirure d'âme (22 + 40% MAG) sur 3 cibles. Silence 2s.",
          "description_en": "Soul rend (22 + 40% MAG) on 3 targets. Silence for 2s.",
          "tags": ["damage", "aoe", "dark", "occult", "silence", "cc"]
        },
        {
          "id": "skill_mage_occ_shadow_pact",
          "name": "Shadow Pact",
          "tier": "signature",
          "target": "enemies",
          "pattern": "rect_2x2",
          "damage_type": "magical",
          "scaling_stat": "mag",
          "base_power": 35,
          "scaling_percent": 60,
          "mana_cost": 45,
          "cooldown": 22.0,
          "lifesteal_percent": 25,
          "lifesteal_per_level": 1.5,
          "bonus_damage_per_debuff": 10,
          "max_debuff_bonus": 30,
          "vfx_type": "life_steal",
          "is_signature": true,
          "description_fr": "SIGNATURE - Pacte sombre (35 + 60% MAG) en zone 2x2. Vole 25% HP (+1.5%/lvl). +10% dégâts par debuff sur les cibles (max +30%).",
          "description_en": "SIGNATURE - Shadow pact (35 + 60% MAG) in 2x2 area. Steals 25% HP (+1.5%/lvl). +10% damage per debuff on targets (max +30%).",
          "tags": ["damage", "aoe", "lifesteal", "dark", "occult", "signature"]
        }
      ]
    },
    "cardmaster": {
      "identity": "Luck manipulation + flexible patterns",
      "signature": "fate_flip",
      "skills": [
        {
          "id": "card_throw",
          "name": "Card Throw",
          "target": "enemy",
          "pattern": "single",
          "vfx_type": "projectile",
          "tres": "res://resources/skills/mage/cardmaster/card_throw.tres",
          "description": "Lance une carte tranchante. Effet aléatoire bonus (dégâts, slow, ou crit).",
          "tags": ["damage", "random", "cards"]
        },
        {
          "id": "card_barrage",
          "name": "Card Barrage",
          "target": "enemies",
          "pattern": "row_4",
          "vfx_type": "projectile",
          "tres": "res://resources/skills/mage/cardmaster/card_barrage.tres",
          "description": "Barrage de cartes sur 4 cases en ligne. Dégâts multiples.",
          "tags": ["damage", "aoe", "cards"]
        },
        {
          "id": "lucky_draw",
          "name": "Lucky Draw",
          "target": "self",
          "pattern": "single",
          "vfx_type": "buff_aura",
          "tres": "res://resources/skills/mage/cardmaster/lucky_draw.tres",
          "description": "Tire une carte du destin: buff aléatoire puissant (ATK, crit, vitesse, ou shield).",
          "tags": ["buff", "random", "cards"]
        },
        {
          "id": "unlucky_curse",
          "name": "Unlucky Curse",
          "target": "enemies",
          "pattern": "rect_3x2",
          "vfx_type": "debuff_aura",
          "tres": "res://resources/skills/mage/cardmaster/unlucky_curse.tres",
          "description": "Malchance sur une zone 3x2. Applique aléatoirement 1-2 debuffs: aveuglement et/ou réduction de crit.",
          "random_debuffs": ["blind", "crit_reduction"],
          "random_count": "1-2",
          "tags": ["debuff", "random", "cards", "aoe"]
        },
        {
          "id": "fate_flip",
          "name": "Fate Flip",
          "target": "enemies",
          "pattern": "rect_2x2",
          "vfx_type": "card",
          "tres": "res://resources/skills/mage/cardmaster/fate_flip.tres",
          "description": "SIGNATURE - Inverse le destin: zone 2x2, dégâts + effets aléatoires. 50% de chance de frapper 2 fois!",
          "is_signature": true,
          "double_hit_chance": 0.5,
          "random_debuffs": ["stun", "slow", "burn", "confusion"],
          "random_count": "1-2",
          "tags": ["damage", "random", "aoe", "cards", "signature", "double_hit"]
        }
      ]
    },
    "spellblade": {
      "identity": "Hybrid melee magic + self buffs",
      "signature": "arcane_cleave",
      "skills": [
        {
          "id": "arcane_slash",
          "name": "Arcane Slash",
          "target": "enemy",
          "pattern": "single",
          "vfx_type": "melee_slash",
          "tres": "res://resources/skills/mage/spellblade/arcane_slash.tres",
          "description": "Frappe de mêlée infusée d'énergie arcanique. Dégâts physiques + magiques.",
          "tags": ["damage", "melee", "hybrid"]
        },
        {
          "id": "mana_strike",
          "name": "Mana Strike",
          "target": "enemy",
          "pattern": "single_plus_adjacent_1",
          "vfx_type": "melee_slash",
          "tres": "res://resources/skills/mage/spellblade/mana_strike.tres",
          "description": "Frappe explosive touchant la cible + 1 adjacent. Restaure du mana au hit.",
          "tags": ["damage", "melee", "mana_restore"]
        },
        {
          "id": "enchanted_blade",
          "name": "Enchanted Blade",
          "target": "self",
          "pattern": "single",
          "vfx_type": "buff_aura",
          "tres": "res://resources/skills/mage/spellblade/enchanted_blade.tres",
          "description": "Enchante votre arme avec de l'énergie magique, ajoutant des dégâts arcanes aux attaques.",
          "tags": ["buff", "enchant", "hybrid"]
        },
        {
          "id": "spell_guard",
          "name": "Spell Guard",
          "target": "self",
          "pattern": "single",
          "vfx_type": "shield",
          "tres": "res://resources/skills/mage/spellblade/spell_guard.tres",
          "description": "Armure magique augmentant votre défense physique et magique temporairement.",
          "tags": ["buff", "defense", "shield"]
        },
        {
          "id": "arcane_cleave",
          "name": "Arcane Cleave",
          "target": "enemies",
          "pattern": "row_3",
          "vfx_type": "melee_slash",
          "tres": "res://resources/skills/mage/spellblade/arcane_cleave.tres",
          "description": "SIGNATURE - Balayage arcanique touchant 3 cases en ligne. Dégâts hybrides dévastateurs.",
          "is_signature": true,
          "tags": ["damage", "melee", "aoe", "hybrid", "signature"]
        }
      ]
    }
  }
}
