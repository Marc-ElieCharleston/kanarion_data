{
  "_meta": {
    "version": "4.0",
    "last_updated": "2026-01-23",
    "class": "mage",
    "description": "Tous les passifs du Mage (base + subclasses)"
  },

  "class_passive": {
    "id": "p_mage_arcane_charges",
    "name": "Arcane Charges",
    "type": "innate",
    "description_fr": "Passif de classe. Lancer des sorts génère des Charges Arcaniques (max 10). Certains sorts consomment ces charges pour des effets amplifiés.",
    "description_en": "Class passive. Casting spells generates Arcane Charges (max 10). Some spells consume charges for amplified effects.",
    "max_charges": 10,
    "charge_duration": 15,
    "charge_generators": ["skill_mage_magic_bolt", "skill_mage_arcane_pulse"],
    "charge_consumers": ["skill_mage_arcane_cataclysm"]
  },

  "base_passives": [
    {
      "id": "p_mage_arcane_affinity",
      "name": "Arcane Affinity",
      "max_rank": 5,
      "description": "Augmente les degats magiques de 2% par rang.",
      "effects": [{"stat": "mag", "op": "add_percent", "value_per_rank": 2}]
    },
    {
      "id": "p_mage_mana_threads",
      "name": "Mana Threads",
      "max_rank": 5,
      "description": "+3% mana max et +2% mana regen par rang.",
      "effects": [
        {"stat": "mp_max", "op": "add_percent", "value_per_rank": 3},
        {"stat": "mp_regen", "op": "add_percent", "value_per_rank": 2}
      ]
    }
  ],

  "subclass_passives": {
    "elementalist": [
      {
        "id": "p_elem_elemental_mastery",
        "name": "Elemental Mastery",
        "max_rank": 5,
        "description": "+2% degats sur skills elementaires par rang.",
        "effects": [{"tag": "elemental", "op": "damage_add_percent", "value_per_rank": 2}]
      },
      {
        "id": "p_elem_terrain_control",
        "name": "Terrain Control",
        "max_rank": 5,
        "description": "+4% duree slow/burn par rang.",
        "effects": [{"tag": "elemental", "op": "status_duration_add_percent", "value_per_rank": 4}]
      }
    ],
    "occultist": [
      {
        "id": "p_occ_curse_mastery",
        "name": "Curse Mastery",
        "max_rank": 5,
        "description": "+3% duree des debuffs par rang.",
        "effects": [{"tag": "debuff", "op": "duration_add_percent", "value_per_rank": 3}]
      },
      {
        "id": "p_occ_dark_pact",
        "name": "Dark Pact",
        "max_rank": 5,
        "description": "+2% vol de vie sur degats magiques par rang.",
        "effects": [{"stat": "lifesteal_magic", "op": "add_percent", "value_per_rank": 2}]
      }
    ],
    "cardmaster": [
      {
        "id": "p_card_lucky_streak",
        "name": "Lucky Streak",
        "max_rank": 5,
        "description": "+2% luck par rang (affecte crit, drops, skills RNG).",
        "effects": [{"stat": "luck", "op": "add_percent", "value_per_rank": 2}]
      },
      {
        "id": "p_card_counting",
        "name": "Card Counting",
        "max_rank": 5,
        "description": "-2% cout MP par rang.",
        "effects": [{"stat": "mp_cost", "op": "reduce_percent", "value_per_rank": 2}]
      }
    ],
    "spellblade": [
      {
        "id": "p_sb_enchanted_blade",
        "name": "Enchanted Blade Mastery",
        "max_rank": 5,
        "description_fr": "Améliore le buff Enchanted Blade: +2% AS, +3% MAG on autos, +2% magic pen par rang.",
        "description_en": "Improves Enchanted Blade buff: +2% AS, +3% MAG on autos, +2% magic pen per rank.",
        "effects": [
          {"skill": "enchanted_blade", "stat": "buff_attack_speed", "op": "add", "value_per_rank": 2},
          {"skill": "enchanted_blade", "stat": "buff_magic_on_autos", "op": "add", "value_per_rank": 3},
          {"skill": "enchanted_blade", "stat": "buff_magic_pen", "op": "add", "value_per_rank": 2}
        ],
        "_comment": "At max rank: +30% AS (base 20), +40% MAG on autos (base 25), +25% magic pen (base 15)"
      },
      {
        "id": "p_sb_arcane_momentum",
        "name": "Arcane Momentum",
        "max_rank": 5,
        "description_fr": "Accumule des stacks en combat. +3% dégâts par stack (max 10). +0.5% bonus par rang.",
        "description_en": "Builds stacks in combat. +3% damage per stack (max 10). +0.5% bonus per rank.",
        "effects": [
          {"mechanic": "arcane_momentum", "stat": "damage_bonus_per_stack", "op": "add", "value_per_rank": 0.5}
        ],
        "_comment": "At max rank: +5.5% damage per stack instead of +3% = +55% at 10 stacks"
      }
    ]
  }
}
